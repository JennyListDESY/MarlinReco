<?xml version="1.0" encoding="us-ascii"?>
<!-- ?xml-stylesheet type="text/xsl" href="http://ilcsoft.desy.de/marlin/marlin.xsl"? -->
<!-- ?xml-stylesheet type="text/xsl" href="marlin.xsl"? -->

<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/MarlinReco/v01-04-01-pre/lib/libMarlinReco.so.1.4.1 (libMarlinReco.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/PandoraAnalysis/v00-04/lib/libPandoraAnalysis.so.0.3.0 (libPandoraAnalysis.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/MarlinPandora/v00-09-01/lib/libMarlinPandora.so.0.9.1 (libMarlinPandora.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/LCFIVertex/v00-06-01/lib/libLCFIVertex.so.0.6.1 (libLCFIVertex.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/CEDViewer/v01-06/lib/libCEDViewer.so.1.6.0 (libCEDViewer.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/Overlay/v00-13-pre/lib/libOverlay.so.0.13.0 (libOverlay.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/FastJetClustering/v00-02/lib/libFastJetClustering.so.0.2.0 (libFastJetClustering.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/MarlinFastJet/v00-01/lib/libMarlinFastJet.so.0.1.0 (libMarlinFastJet.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/LCTuple/v01-01/lib/libLCTuple.so.1.1.0 (libLCTuple.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/MarlinKinfit/v00-01-02/lib/libMarlinKinfit.so.0.1.2 (libMarlinKinfit.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/MarlinTrkProcessors/v01-08-pre01/lib/libMarlinTrkProcessors.so.1.8.0 (libMarlinTrkProcessors.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/Clupatra/v00-09-01-pre02/lib/libClupatra.so.0.9.1 (libClupatra.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/LCFIPlus/v00-05-01/lib/libLCFIPlus.so.0.5.1 (libLCFIPlus.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/ForwardTracking/v01-06-01/lib/libForwardTracking.so.1.6.1 (libForwardTracking.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/MarlinTPC/v00-10/lib/libMarlinTPC.so.0.10.0 (libMarlinTPC.so)-->
<!-- Loading shared library : /afs/desy.de/project/ilcsoft/sw/x86_64_gcc41_sl5/v01-15-02-pre01/Garlic/v2.10.1/lib/libGarlic.so.2.1.1 (libGarlic.so)-->

<!--##########################################
    #                                        #
    #     Example steering file for marlin   #
    #                                        #
    ##########################################-->


<marlin xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ilcsoft.desy.de/marlin/marlin.xsd">
 <execute>
  <processor name="MyAIDAProcessor"/>
  <processor name="MySimpleBCalDigi" />
  <processor name="MyBCalReco"/>
  <processor name="MyBCalTagEfficiency"/>
  <processor name="MyLCIOOutputProcessor"/>  
 </execute>

 <global>
  <!--parameter name="LCIOInputFiles">/afs/desy.de/user/m/montull/flc/MarlinWorkdir/data/DST01-04_ppr002_aa_cc_w12174_500_LDCPrime_02Sc_LCP_ep+0.0_em+0.0_Slac_SM_0002.slcio </parameter-->
  <!--parameter name="LCIOInputFiles">/data/boehmej/flc/susy/data/DST01-06_ppr004_aa_cc_w12174_500_ILD_00_LCP_ep+0.0_em+0.0_Slac_SM_0001.slcio </parameter-->
  <parameter name="LCIOInputFiles">E0500-TDR_ws.Paa_yyyy.Gwhizard-1.95.eW.pW.I37461.01-10.slcio</parameter>
  <!-- limit the number of processed records (run+evt): -->  
  <parameter name="MaxRecordNumber" value="0" />  
  <parameter name="SkipNEvents" value="0" />  
  <parameter name="SupressCheck" value="false" />  
  <parameter name="GearXMLFile">GearOutput_ILD_o1_v05.xml</parameter>  
  <parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT"> DEBUG  </parameter> 
  <parameter name="RandomSeed" value="1234567890" />
 </global>

<!--###### BCalTagEfficiency  ##########################################-->

<processor name="MyBCalTagEfficiency" type="BCalTagEfficiency">
<!--ForwardVeto propagates electrons or photons from IP to the BeamCal, and it gives the Energy and Momentum of the detected ones to the output ReconstructedParticles collection-->
  
  <!--  INPUT --->
  <!--Name of the MCParticle collection-->
  <parameter name="CollectionName" type="string" lcioInType="MCParticle">MCParticle </parameter>
  <!--Name of input file for background energy density-->
  <parameter name="BackgroundFilename" type="string">bg_aver.sv01-14-p00.mILD_o1_v05.E1000-B1b_ws.PBeamstr-pairs.I210000.root</parameter>
  
  <!--  OUTPUT --->
  <!--Name of the collection of clusters of tagged e's/gammas-->
  <parameter name="BCALClusterName" type="string" lcioOutType="Cluster">BCalEffiClusters</parameter>
  <!--Name of the tagged e/gamma  to mc-particle relation collection-->
  <parameter name="BCALMCTruthLinkName" type="string" lcioOutType="LCRelation">BCalEffiMCTruthLink</parameter>
  <!--Name of the tagged e/gamma collection-->
  <parameter name="RecoPartCollectionName" type="string" lcioOutType="ReconstructedParticle">BCalEffiRecoParticles</parameter>
  
  <!--  STEERING --->
  <!--Scaling of the energy density w.r.t default setup-->
  <parameter name="densityScaling" type="float">1 </parameter>
  <!--true: all electrons/photons in BCAL acceptance will be written to new collection-->
  <parameter name="detectAll" type="bool">false </parameter>
  <!--Nominal Beam Energy (needed for LoI samples)-->
  <parameter name="eBeam" type="float">250 </parameter>
  <!--true: electrons/photons written to new collection with smeared energy (and momentum)-->
  <parameter name="smearEnergy" type="bool">true </parameter>
  <!--Maximum energy of detected particles-->
  <parameter name="thresholdmax" type="float">260 </parameter>
  <!--Minimum energy of detected particles-->
  <parameter name="thresholdmin" type="float">40 </parameter>
  <!--position of the BeamCal-->
  <parameter name="zbcal" type="float">3594.9 </parameter>
  <!--true: assume MCParticles are already with xing angle. false: MCParticles are head-on-->
  <parameter name="DBDsample" type="bool">true</parameter>
  <!--true: awrite tree with DEBUG info-->
  <parameter name="writeTree" type="bool">true</parameter>
  <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
  <parameter name="Verbosity" type="string">DEBUG </parameter>
</processor>

<!--######  SimpleBCALDigi ##########################################-->

<processor name="MySimpleBCalDigi" type="SimpleLCalDigi">
<!--Performs simple digitization of sim calo hits...-->
  
  <!--  INPUT --->
  <!--LCAL Collection Names-->
  <parameter name="LCALCollections" type="StringVec">BeamCalCollection</parameter>
  <!--Calibration coefficients for LCAL-->
  <parameter name="CalibrLCAL" type="FloatVec">1.0</parameter>
  <!--Threshold for LCAL Hits in GeV-->
  <parameter name="LCALThreshold" type="float">1e-06 </parameter>
  
  <!--  OUTPUT --->
  <!--LCAL Collection of real Hits-->
  <parameter name="LCALOutputCollection" type="string">BCalHits</parameter>
  <!--MuonHit Relation Collection-->
  <parameter name="RelationOutputCollection" type="string">RelationBCalHit </parameter>
</processor>


<!--######  BCalReco ##########################################-->

<processor name="MyBCalReco" type="BCalReco">
<!--Filling Histograms with deposited energy from beamstrahlung pairs in BeamCal-->
  
  <!--  INPUT --->
  <!--Collection of SimCalorimeterHits in BeamCal-->
  <parameter name="BeamCalHitCol" type="string">BCalHits </parameter>
  <!--Name of the MCParticle collection-->
  <parameter name="CollectionName" type="string" lcioInType="MCParticle">MCParticle </parameter>
  <!-- Name of input file for background energy density-->
  <parameter name="BackgroundFilename" type="string">bg_aver.sv01-14-p00.mILD_o1_v05.E1000-B1b_ws.PBeamstr-pairs.I210000.root </parameter>
  
  <!--  OUTPUT --->
  <!--Name of the Beamcal clusters collection-->
  <parameter name="BCALClusterName" type="string" lcioOutType="Cluster">BCalClusters </parameter>
  <!--Name of the Beamcal reconstructed particles collection-->
  <parameter name="RecoPartCollectionName" type="string" lcioOutType="ReconstructedParticle">BCalParticles </parameter>
  <!--Name of the Beamcal cluster to mc-particle relation collection-->
  <parameter name="BCALMCTruthLinkName" type="string" lcioOutType="LCRelation">BCalMCTruthLink </parameter>
 
  <!--  DEBUG OUTPUT --->
  <!-- Event Clusters Histgram X axis range [n] (10 by default)-->
  <parameter name="EventClustersHistoRange" type="int">10 </parameter>
  <!--write histograms?-->
  <parameter name="WriteHistograms" type="bool">true </parameter>
  <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
  <parameter name="Verbosity" type="string">DEBUG </parameter>
</processor>

<!--######  BCalReco ##########################################-->

<processor name="MyLCIOOutputProcessor" type="LCIOOutputProcessor">
<!--Writes the current event to the specified LCIO outputfile. Needs to be the last ActiveProcessor.-->
  <!--drops the named collections from the event-->
  <!--parameter name="DropCollectionNames" type="StringVec">TPCHits HCalHits  </parameter-->
  <!--drops all collections of the given type from the event-->
  <!--parameter name="DropCollectionTypes" type="StringVec">SimTrackerHit SimCalorimeterHit  </parameter-->
  <!-- write complete objects in subset collections to the file (i.e. ignore subset flag)-->
  <!--parameter name="FullSubsetCollections" type="StringVec">MCParticlesSkimmed  </parameter-->
  <!--force keep of the named collections - overrules DropCollectionTypes (and DropCollectionNames)-->
  <!--parameter name="KeepCollectionNames" type="StringVec"> BCALClusters, BCALMCTruthLink, BCALParticles </parameter-->
  <!-- name of output file -->
  <parameter name="LCIOOutputFile" type="string">E0500-TDR_ws.Paa_yyyy.Gwhizard-1.95.eW.pW.I37461.01-10_newmap.slcio</parameter>
  <!--write mode for output file:  WRITE_APPEND or WRITE_NEW-->
  <parameter name="LCIOWriteMode" type="string">WRITE_NEW </parameter>
  <!--will split output file if size in kB exceeds given value - doesn't work with APPEND and NEW-->
  <!--parameter name="SplitFileSizekB" type="int">1992294 </parameter-->
  <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
  <parameter name="Verbosity" type="string">DEBUG </parameter>
</processor>

<!--###### LCTuple  ##########################################-->

 <processor name="MyLCTuple" type="LCTuple">
 <!--LCTuple creates a ROOT TTRee with a column wise ntuple from LCIO collections ....-->
  <!--Name of the Cluster collection-->
  <parameter name="ClusterCollection" type="string" lcioInType="Cluster"> </parameter>
  <!--Names of LCRelation collections - need parallel prefix names in RelPrefixes-->
  <parameter name="LCRelationCollections" type="StringVec" lcioInType="LCRelation"> </parameter>
  <!-- Names of prefixes for variables from LCRelation collections - needs to be parallel to LCRelationCollections (one prefix per collection)-->
  <parameter name="LCRelationPrefixes" type="StringVec"> </parameter>
  <!--Name of the MCParticle collection-->
  <parameter name="MCParticleCollection" type="string" lcioInType="MCParticle"> </parameter>
  <!--Name of the ReconstructedParticle collection-->
  <parameter name="RecoParticleCollection" type="string" lcioInType="ReconstructedParticle"> </parameter>
  <!--Name of the SimCalorimeterHit collection-->
  <parameter name="SimCalorimeterHitCollection" type="string" lcioInType="SimCalorimeterHit"> </parameter>
  <!--Name of the SimTrackerHit collection-->
  <parameter name="SimTrackerHitCollection" type="string" lcioInType="SimTrackerHit"> </parameter>
  <!--Name of the Track collection-->
  <parameter name="TrackCollection" type="string" lcioInType="Track"> </parameter>
  <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
  <!--parameter name="Verbosity" type="string">DEBUG </parameter-->
  <!--Name of the Vertex collection-->
  <parameter name="VertexCollection" type="string" lcioInType="Vertex"> </parameter>
  <!--Switch to write out collection parameters-->
  <parameter name="WriteClusterCollectionParameters" type="bool">false </parameter>
  <!--Switch to write out collection parameters-->
  <parameter name="WriteMCParticleCollectionParameters" type="bool">false </parameter>
  <!--Switch to write out collection parameters-->
  <parameter name="WriteRecoParticleCollectionParameters" type="bool">false </parameter>
  <!--Switch to write out collection parameters-->
  <parameter name="WriteSimCalorimeterHitCollectionParameters" type="bool">false </parameter>
  <!--Switch to write out collection parameters-->
  <parameter name="WriteSimTrackerHitCollectionParameters" type="bool">false </parameter>
  <!--Switch to write out collection parameters-->
  <parameter name="WriteTrackCollectionParameters" type="bool">false </parameter>
  <!--Switch to write out collection parameters-->
  <parameter name="WriteVertexCollectionParameters" type="bool">false </parameter>
</processor>

<!--###### LCTuple  ##########################################-->
<processor name="MyAIDAProcessor" type="AIDAProcessor">
 <!--Processor that handles AIDA files. Creates on directory per processor.  Processors only need to create and fill the histograms, clouds and tuples. Needs to be the first ActiveProcessor-->
  <!-- compression of output file 0: false >0: true (default) -->
  <parameter name="Compress" type="int">1 </parameter>
  <!-- filename without extension-->
  <parameter name="FileName" type="string">aida_file </parameter>
  <!-- type of output file root (default) or xml )-->
  <parameter name="FileType" type="string">root </parameter>
  <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
  <!--parameter name="Verbosity" type="string">DEBUG </parameter-->
</processor>


</marlin>
